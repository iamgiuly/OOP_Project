package ordini;
import abbigliamento.*; //mi sa che non serve
import java.io.*;
/**
 *
 * @author Giulia Evangelisti
 */
public class PreventivoAbbigliamento {

PreventivoMaglia pmaglia;
PreventivoPantalone ppanta;
PreventivoGiubbotto pgiubb;
PreventivoFelpa pfelpa;
PreventivoBorsa pborsa;
double totaleAbbigliamento;

public PreventivoAbbigliamento(){
    this.totaleAbbigliamento=0;
}

public double ParzialeAbbigliamento(String s) throws IOExeption, IOException  { 
    
int nrpers = 0;
boolean p=false; String color; String tipo = null;
boolean scoll=false; boolean manica=false; String pp; String mm; String ss;
boolean cern=false; boolean tasche=false; boolean capp=false;
String model; String materiale;
    
    //pp, mm, ss servono per comunicare con l'utente e chiedergli se ci sono maniche, personalizzazioni e scollatura a V 
    //lui mi restituirà una String (Sì o No) e con un if la converto in boolean, purtroppo il metodo di java.io br.read() non 
    //ammette la conversione in boolean, se ci vengono in mente modi per farlo ben venga!!
    
    BufferedReader br = new BufferedReader (new InputStreamReader(System.in));
    
    switch(s){
        case "Maglia":
        case "maglia":{
            
            pmaglia= new PreventivoMaglia();
            
            System.out.println("Scrivere il colore della maglia ");
            color=br.readLine();
            
            System.out.println("Inserire Sì se la maglia è a maniche lunghe ");
            mm= br.readLine();
            if("Sì".equals(mm))
                manica=true;
            else if(!"No".equals(mm))
                System.out.println("Errore, la maglia verrà considerata a maniche corte"); //in questo caso rimane a false!
            
            System.out.println("La maglia ha lo scollo a V?");
            ss=br.readLine();
            if("Sì".equals(ss))
                scoll=true;
            else if (!"No".equals(ss))
                    System.out.println("Errore, la maglia verrà considerata con scollatua classica a girocollo");
                
            System.out.println("Sono presenti personalizzazioni?");
            pp=  br.readLine ();
            if("Sì".equals(pp))
                p=true;
            else if(!"No".equals(pp))
                System.out.println("Errore, la maglia verrà considerata senza personalizzazioni");
            
            if (p==true){
            System.out.println("Inserire il numero di personalizzazioni ");
            nrpers= (int) br.read();
            System.out.println("Inserire tipologia di stampa usata ");
            tipo= br.readLine();
            }
            
            totaleAbbigliamento+= pmaglia.ParzialeMaglia(nrpers, p, color, tipo, scoll, manica);}
        case "Pantalone":
        case "pantalone":{
            
            ppanta = new PreventivoPantalone();
            
            System.out.println("Scrivere il colore del pantalone ");
            color=br.readLine();  
            
            System.out.println("Inserire modello (Lunghi/Corti) ");
            model=br.readLine();
 //LA PARTE DI PERSONALIZZAZIONE E' RIDONDANTE, DEVO PENSARE SE SI PUO' ELIMINARE
            System.out.println("Sono presenti personalizzazioni?");
            pp=  br.readLine ();
            if("Sì".equals(pp))
                p=true;
            else if(!"No".equals(pp))
                System.out.println("Errore, i pantaloni verranno considerati senza personalizzazioni");
            
            if (p==true){
            System.out.println("Inserire il numero di personalizzazioni ");
            nrpers= (int) br.read();
            System.out.println("Inserire tipologia di stampa usata ");
            tipo= br.readLine();
            }
            totaleAbbigliamento+=ppanta.ParzialePantalone(nrpers, p, color, tipo, model);
            
        }
        
        case "Giubbotto":
        case "giubbotto":{
            System.out.println("Scrivere il colore del giubbotto ");
            color=br.readLine();  
            
            System.out.println("Inserire maetriale (Pelle/Jeans) ");
            materiale=br.readLine();
 //LA PARTE DI PERSONALIZZAZIONE E' RIDONDANTE, DEVO PENSARE SE SI PUO' ELIMINARE
            System.out.println("Sono presenti personalizzazioni?");
            pp=  br.readLine ();
            if("Sì".equals(pp))
                p=true;
            else if(!"No".equals(pp))
                System.out.println("Errore, il giubbotto verrà considerata senza personalizzazioni");
            
            if (p==true){
            System.out.println("Inserire il numero di personalizzazioni ");
            nrpers= (int) br.read();
            System.out.println("Inserire tipologia di stampa usata ");
            tipo= br.readLine();
            }
            totaleAbbigliamento+=pgiubb.ParzialeGiubbotto(nrpers, p, color, tipo, materiale);
           }
        
        case "Felpa":
        case "felpa":{
            
            pfelpa = new PreventivoFelpa();
            
            System.out.println("Scrivere il colore dela felpa ");
            color=br.readLine();
         //Posso riutilizzare le variabili d'appoggio, in assenza di strade alternative, ss = cerniera /mm = tasche /pp = cappuccio come nella maglia
         //in quanto sono variabili momentanee che servono al calcolo del capo singolo che andrà poi sommato nel Preventivo vero e prorpio 
         
            System.out.println("La felpa ha il cappuccio?");
            pp=br.readLine();
            if("Sì".equals(pp))
                capp=true;
            else if (!"No".equals(pp))
                System.out.println("Errore!La felpa verrà automaticamente consierata senza cappuccio!");
            
            System.out.println("La felpa ha le tasche?");
            mm=br.readLine();
            if("Sì".equals(mm))
                tasche=true;
            else if (!"No".equals(mm))
                System.out.println("Errore! La felpa verrà automaticamente considerata senza tasche!");
            
            System.out.println("La felpa ha la cerniera?");
            ss=br.readLine();
            if("Sì".equals(ss))
                cern=true;
            else if (!"No".equals(ss))
                System.out.println("Errore! La felpa verrà automaicamente considerata senza cerniera!");
            
            totaleAbbigliamento+=pfelpa.ParzialeFelpa(nrpers, p, color, tipo, cern, capp, tasche);
        }
        
        case "Borsa":
        case "borsa":{
            
            pborsa= new PreventivoBorsa();
            
            System.out.println("Scrivere il colore della borsa ");
            color=br.readLine();  
            
            System.out.println("Inserire il modello (zaino/tracolla) ");
            model=br.readLine();
 //LA PARTE DI PERSONALIZZAZIONE E' RIDONDANTE, DEVO PENSARE SE SI PUO' ELIMINARE
            System.out.println("Sono presenti personalizzazioni?");
            pp=  br.readLine ();
            if("Sì".equals(pp))
                p=true;
            else if(!"No".equals(pp))
                System.out.println("Errore, il giubbotto verrà considerata senza personalizzazioni");
            
            if (p==true){
            System.out.println("Inserire il numero di personalizzazioni ");
            nrpers= (int) br.read();
            System.out.println("Inserire tipologia di stampa usata ");
            tipo= br.readLine();
            }
            totaleAbbigliamento+=pborsa.ParzialeBorsa(nrpers, p, model, color, tipo);
        }
    
    }
    return totaleAbbigliamento;
}
}
